{"ast":null,"code":"var _jsxFileName = \"/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction App() {\n  _s();\n\n  const [playlistURL, setPlaylistURL] = useState('');\n  const [playlistURL_coded, setPlaylistURL_coded] = useState('');\n  const [test, setTest] = useState(''); // const [test,setTest] = useState({\n  //   data: '',\n  //   loading: true\n  // })\n\n  const [name, setName] = useState('');\n\n  const handleClick = async () => {\n    const data = await axios.get('/test');\n    setTest({\n      data: data.data.return,\n      loading: false\n    });\n  };\n\n  const Form = () => {\n    const handleSubmit = e => {\n      e.preventDefault();\n      console.log(`Form submitted, ${playlistURL}`);\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => setName(e.target.value),\n        value: playlistURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Click to submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Get Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      children: \"Get Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: test.loading ? '' : test.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), Form()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n} // class App extends React.Component {\n//   constructor(props) {\n//      super(props);\n//      this.state = {\n//         playlistURL: null,\n//         playlistURL_coded: null,\n//         submitted: null,\n//         postId: null,\n//         initialGet: null,\n//      }\n//      this.handleChange = this.handleChange.bind(this);\n//      this.handleSubmit = this.handleSubmit.bind(this);\n//      this.updateState = this.updateState.bind(this);\n//   };\n// async componentDidMount() {\n//     const requestOptions = {\n//         method: 'GET',\n//         headers: { 'Content-Type': 'application/json' },\n//         // body: JSON.stringify({ title: 'React POST Request Example' })\n//     };\n//     const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n//     const data = await response.json();\n//     this.setState({ postId: data.return });\n//     alert(this.state.postId)\n// }\n// getURL(){\n//   return this.state.playlistURL\n// }\n// updateState() {\n//    this.setState({data: 'Data updated...'})\n// }\n// handleChange(event) {    \n//   this.setState({playlistURL: event.target.value,\n//                  playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n//                 });  \n// }\n// handleSubmit(event) {\n//   this.setState({submitted: true})\n// }\n// renderFunc(){\n//   if(this.state.submitted === null){\n//     return (\n//       <form onSubmit={this.handleSubmit}>\n//         <label>\n//           Import Playlist:\n//           <input type=\"text\" value={this.state.playlistURL} onChange={this.handleChange} />        \n//         </label>\n//         <input type=\"submit\" value=\"Submit\" />\n//       </form>\n//     );\n//   }\n//   if(this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null){\n//     // this.componentDidMount()\n//     // this.setState({initialGet: true})\n//     // alert(this.state.postId)\n//   }\n// }\n// render() {\n//   return (\n//     <div>\n//       {/* {this.renderFunc()} */}\n//     </div>\n//   );\n// }\n// render() {\n//    return (\n//       <div>\n//         <form>\n//         <label>\n//           Name:\n//           <input type=\"text\" name=\"name\" />\n//         </label>\n//         <input type=\"submit\" value=\"Submit\" />\n//         </form>\n//          <button onClick = {this.updateState}>CLICK</button>\n//          <h4>{this.state.data}</h4>\n//       </div>\n//    );\n// }\n// }\n\n\n_s(App, \"mNYs9ABk1zWJPiQV/CAr7FFFP2A=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js"],"names":["React","useState","useEffect","axios","defaults","baseURL","headers","post","App","playlistURL","setPlaylistURL","playlistURL_coded","setPlaylistURL_coded","test","setTest","name","setName","handleClick","data","get","return","loading","Form","handleSubmit","e","preventDefault","console","log","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AACAF,KAAK,CAACC,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,cAA5B,IAA6C,gCAA7C;AACAJ,KAAK,CAACC,QAAN,CAAeE,OAAf,CAAuBC,IAAvB,CAA4B,6BAA5B,IAA6D,GAA7D;;AAIA,SAASC,GAAT,GAAc;AAAA;;AACZ,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACU,iBAAD,EAAoBC,oBAApB,IAA4CX,QAAQ,CAAC,EAAD,CAA1D;AACA,QAAM,CAACY,IAAD,EAAMC,OAAN,IAAiBb,QAAQ,CAAC,EAAD,CAA/B,CAHY,CAIZ;AACA;AACA;AACA;;AACA,QAAM,CAACc,IAAD,EAAMC,OAAN,IAAiBf,QAAQ,CAAC,EAAD,CAA/B;;AAEA,QAAMgB,WAAW,GAAG,YAAW;AAC7B,UAAMC,IAAI,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAU,OAAV,CAAnB;AACAL,IAAAA,OAAO,CAAC;AACJI,MAAAA,IAAI,EAAEA,IAAI,CAACA,IAAL,CAAUE,MADZ;AAEJC,MAAAA,OAAO,EAAE;AAFL,KAAD,CAAP;AAID,GAND;;AAQA,QAAMC,IAAI,GAAG,MAAM;AACjB,UAAMC,YAAY,GAAIC,CAAD,IAAO;AAC1BA,MAAAA,CAAC,CAACC,cAAF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAa,mBAAkBlB,WAAY,EAA3C;AACD,KAHD;;AAKA,wBACI;AAAM,MAAA,QAAQ,EAAIc,YAAlB;AAAA,8BACI;AAAO,QAAA,QAAQ,EAAKC,CAAD,IAAOR,OAAO,CAACQ,CAAC,CAACI,MAAF,CAASC,KAAV,CAAjC;AAAmD,QAAA,KAAK,EAAIpB;AAA5D;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,IAAI,EAAG,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAMD,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,OAAO,EAAIQ,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI;AAAA,gBACKJ,IAAI,CAACQ,OAAL,GAAa,EAAb,GACDR,IAAI,CAACK;AAFT;AAAA;AAAA;AAAA;AAAA,YAHJ,EAOKI,IAAI,EAPT;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,C,CAID;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACF;;;GA5ISd,G;;KAAAA,G;AA6IT,eAAeA,GAAf","sourcesContent":["import React from 'react';\nimport {useState,useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\n\n\nfunction App(){\n  const [playlistURL, setPlaylistURL] = useState('')\n  const [playlistURL_coded, setPlaylistURL_coded] = useState('')\n  const [test,setTest] = useState('')\n  // const [test,setTest] = useState({\n  //   data: '',\n  //   loading: true\n  // })\n  const [name,setName] = useState('')\n\n  const handleClick = async() => {\n    const data = await axios.get('/test')\n    setTest({\n        data: data.data.return,\n        loading: false\n    })\n  }\n\n  const Form = () => {\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      console.log(`Form submitted, ${playlistURL}`);    \n    }\n\n    return(\n        <form onSubmit = {handleSubmit}>\n            <input onChange = {(e) => setName(e.target.value)} value = {playlistURL}></input>\n            <button type = 'submit'>Click to submit</button>\n        </form>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n        <h2>Get Test</h2>\n        <button onClick = {handleClick}>Get Test</button>\n        <div>\n            {test.loading?'':\n            test.data}\n        </div>\n        {Form()}\n    </div>\n  );\n}\n\n\n\n// class App extends React.Component {\n\n//   constructor(props) {\n//      super(props);\n\n//      this.state = {\n//         playlistURL: null,\n//         playlistURL_coded: null,\n//         submitted: null,\n//         postId: null,\n//         initialGet: null,\n//      }\n//      this.handleChange = this.handleChange.bind(this);\n//      this.handleSubmit = this.handleSubmit.bind(this);\n//      this.updateState = this.updateState.bind(this);\n//   };\n\n  // async componentDidMount() {\n  //     const requestOptions = {\n  //         method: 'GET',\n  //         headers: { 'Content-Type': 'application/json' },\n  //         // body: JSON.stringify({ title: 'React POST Request Example' })\n  //     };\n  //     const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n  //     const data = await response.json();\n  //     this.setState({ postId: data.return });\n  //     alert(this.state.postId)\n  // }\n\n\n  // getURL(){\n  //   return this.state.playlistURL\n  // }\n\n  // updateState() {\n  //    this.setState({data: 'Data updated...'})\n  // }\n\n  // handleChange(event) {    \n  //   this.setState({playlistURL: event.target.value,\n  //                  playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n  //                 });  \n  // }\n\n  // handleSubmit(event) {\n  //   this.setState({submitted: true})\n  // }\n\n  // renderFunc(){\n  //   if(this.state.submitted === null){\n  //     return (\n  //       <form onSubmit={this.handleSubmit}>\n  //         <label>\n  //           Import Playlist:\n  //           <input type=\"text\" value={this.state.playlistURL} onChange={this.handleChange} />        \n  //         </label>\n  //         <input type=\"submit\" value=\"Submit\" />\n  //       </form>\n  //     );\n  //   }\n  //   if(this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null){\n  //     // this.componentDidMount()\n  //     // this.setState({initialGet: true})\n  //     // alert(this.state.postId)\n  //   }\n  // }\n\n  // render() {\n  //   return (\n  //     <div>\n  //       {/* {this.renderFunc()} */}\n  //     </div>\n  //   );\n  // }\n\n\n  // render() {\n  //    return (\n  //       <div>\n  //         <form>\n  //         <label>\n  //           Name:\n  //           <input type=\"text\" name=\"name\" />\n  //         </label>\n  //         <input type=\"submit\" value=\"Submit\" />\n  //         </form>\n\n\n  //          <button onClick = {this.updateState}>CLICK</button>\n  //          <h4>{this.state.data}</h4>\n  //       </div>\n  //    );\n  // }\n// }\nexport default App;"]},"metadata":{},"sourceType":"module"}