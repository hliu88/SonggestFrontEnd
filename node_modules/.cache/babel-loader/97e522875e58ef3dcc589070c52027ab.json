{"ast":null,"code":"var _jsxFileName = \"/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlistURL: null,\n      playlistURL_coded: null,\n      submitted: null,\n      postId: null,\n      initialGet: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.updateState = this.updateState.bind(this);\n  }\n\n  async componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      } // body: JSON.stringify({ title: 'React POST Request Example' })\n\n    };\n    const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n    const data = await response.json();\n    this.setState({\n      postId: data.return\n    });\n    alert(this.state.postId);\n  }\n\n  getURL() {\n    return this.state.playlistURL;\n  }\n\n  updateState() {\n    this.setState({\n      data: 'Data updated...'\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      playlistURL: event.target.value,\n      playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      submitted: true\n    });\n  }\n\n  renderFunc() {\n    if (this.state.submitted === null) {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Import Playlist:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.playlistURL,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null) {// this.componentDidMount()\n      // this.setState({initialGet: true})\n      // alert(this.state.postId)\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.renderFunc()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js"],"names":["React","axios","defaults","baseURL","headers","post","App","Component","constructor","props","state","playlistURL","playlistURL_coded","submitted","postId","initialGet","handleChange","bind","handleSubmit","updateState","componentDidMount","requestOptions","method","response","fetch","data","json","setState","return","alert","getURL","event","target","value","encodeURIComponent","renderFunc","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nclass App extends React.Component {\n\n  constructor(props) {\n     super(props);\n\n     this.state = {\n        playlistURL: null,\n        playlistURL_coded: null,\n        submitted: null,\n        postId: null,\n        initialGet: null,\n     }\n     this.handleChange = this.handleChange.bind(this);\n     this.handleSubmit = this.handleSubmit.bind(this);\n     this.updateState = this.updateState.bind(this);\n  };\n\n  async componentDidMount() {\n      const requestOptions = {\n          method: 'GET',\n          headers: { 'Content-Type': 'application/json' },\n          // body: JSON.stringify({ title: 'React POST Request Example' })\n      };\n      const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n      const data = await response.json();\n      this.setState({ postId: data.return });\n      alert(this.state.postId)\n  }\n\n\n  getURL(){\n    return this.state.playlistURL\n  }\n\n  updateState() {\n     this.setState({data: 'Data updated...'})\n  }\n\n  handleChange(event) {    \n    this.setState({playlistURL: event.target.value,\n                   playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n                  });  \n  }\n\n  handleSubmit(event) {\n    this.setState({submitted: true})\n  }\n\n  renderFunc(){\n    if(this.state.submitted === null){\n      return (\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            Import Playlist:\n            <input type=\"text\" value={this.state.playlistURL} onChange={this.handleChange} />        \n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      );\n    }\n    if(this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null){\n      // this.componentDidMount()\n      // this.setState({initialGet: true})\n      // alert(this.state.postId)\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderFunc()}\n      </div>\n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}