{"ast":null,"code":"var _jsxFileName = \"/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/Body.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport './Body.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction Body() {\n  _s();\n\n  const [playlistURL, setPlaylistURL] = useState({\n    value: '',\n    submitted: false,\n    loaded: false\n  });\n  const [URL, setURL] = useState([]);\n  const [impReturn, setImpReturn] = useState({\n    value: '',\n    loaded: false\n  });\n  const [analyReturn, setAnalyReturn] = useState({\n    value: '',\n    loaded: false\n  });\n  const [suggestReturn, setSuggestReturn] = useState({\n    value: '',\n    loaded: false,\n    print: false\n  });\n\n  const Form = () => {\n    const handleSubmit = e => {\n      e.preventDefault();\n      setPlaylistURL({\n        submitted: true\n      });\n      setURL(playlistURL.value);\n      console.log(`Form submitted, ${playlistURL.value}`);\n      console.log(encodeURIComponent(playlistURL.value));\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Enter playlist URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setPlaylistURL({\n            value: e.target.value\n          }),\n          value: playlistURL.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Click to submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  };\n\n  const logOut = () => {\n    setPlaylistURL({\n      loaded: null,\n      data: null\n    });\n    setURL(null);\n  };\n\n  const postImport = async () => {\n    const data = await axios.post('/importPlaylist/' + encodeURIComponent(URL));\n    setImpReturn({\n      loaded: true,\n      data: data.data.return\n    });\n\n    if (impReturn.data == \"playlist url invalid\") {\n      alert('invalid url, press logout and try again');\n    } else {\n      const data = await axios.put('/get_genre/' + encodeURIComponent(URL));\n      setAnalyReturn({\n        loaded: true,\n        data: data.data.return\n      });\n    }\n  };\n\n  const suggest = async () => {\n    setSuggestReturn({\n      loaded: true\n    });\n\n    if (analyReturn.data == 'genres added') {\n      const data = await axios.get('/suggest/' + encodeURIComponent(URL));\n      setSuggestReturn({\n        loaded: true,\n        print: true,\n        data: data.data.return\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logOut,\n        style: {\n          marginLeft: \"auto\"\n        },\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), playlistURL.submitted ? '' : Form(), playlistURL.submitted && !impReturn.loaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Import Playlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: postImport,\n        children: \"Import\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }, this) : '', suggestReturn.data ? '' : /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: analyReturn.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }, this), analyReturn.loaded && !suggestReturn.loaded ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: suggest,\n      children: \"Suggest\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 54\n    }, this) : '', suggestReturn.print ? /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"https://example.com/faq.html\",\n      rel: \"noreferrer\",\n      children: \"FAQ\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Body, \"5DMm1KPRcz/gHrLo0kE6RPoOMIU=\");\n\n_c = Body;\nexport default Body;\n\nvar _c;\n\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"sources":["/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/Body.js"],"names":["React","useState","useEffect","axios","defaults","baseURL","headers","post","Body","playlistURL","setPlaylistURL","value","submitted","loaded","URL","setURL","impReturn","setImpReturn","analyReturn","setAnalyReturn","suggestReturn","setSuggestReturn","print","Form","handleSubmit","e","preventDefault","console","log","encodeURIComponent","target","logOut","data","postImport","return","alert","put","suggest","get","display","marginLeft"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState,useEffect} from 'react';\nimport './Body.css';\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\n\n\nfunction Body(){\n  const [playlistURL, setPlaylistURL] = useState({\n    value: '',\n    submitted: false,\n    loaded: false})\n  const[URL, setURL] = useState([]);\n  const [impReturn, setImpReturn] = useState({\n    value: '',\n    loaded: false})\n  const [analyReturn, setAnalyReturn] = useState({\n    value: '',\n    loaded: false})\n  const [suggestReturn, setSuggestReturn] = useState({\n    value: '',\n    loaded: false,\n    print: false,\n  })\n\n  const Form = () => {\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      setPlaylistURL({submitted:true})\n      setURL(playlistURL.value)\n      console.log(`Form submitted, ${playlistURL.value}`);    \n      console.log(encodeURIComponent(playlistURL.value))\n    }\n\n    return(\n      <div>\n        <h2>Enter playlist URL</h2>\n        <form onSubmit = {handleSubmit}>\n            <input onChange = {(e) => setPlaylistURL({value:e.target.value})} value = {playlistURL.value}></input>\n            <button type = 'submit'>Click to submit</button>\n        </form>\n        {/* {encodeURIComponent(playlistURL.value)} */}\n      </div>\n    );\n  }\n\n  const logOut = () =>{\n    setPlaylistURL({\n      loaded: null,\n      data: null,\n    })\n    setURL(null)\n  }\n\n  const postImport = async() => {\n    const data = await axios.post('/importPlaylist/' + encodeURIComponent(URL))\n    setImpReturn({\n      loaded: true,\n      data: data.data.return,\n    })\n    if(impReturn.data == \"playlist url invalid\"){\n      alert('invalid url, press logout and try again')\n    }\n    else{\n      const data = await axios.put('/get_genre/' + encodeURIComponent(URL))\n      setAnalyReturn({\n        loaded: true,\n        data: data.data.return,\n      })\n    }\n  }\n\n  const suggest = async() =>{\n    setSuggestReturn({\n      loaded:true,\n    })\n    if(analyReturn.data == 'genres added'){\n      const data = await axios.get('/suggest/' + encodeURIComponent(URL))\n      setSuggestReturn({\n        loaded: true,\n        print: true,\n        data: data.data.return,\n      })\n    }\n  }\n\n  return (\n    <div className=\"Body\">\n      <div style={{ display: \"flex\" }}>\n        <button onClick = {logOut} style={{ marginLeft: \"auto\" }}>Logout</button >\n      </div>\n\n        {playlistURL.submitted?'':Form()}\n        \n        {playlistURL.submitted && !impReturn.loaded?\n          <div>\n            <h2>Import Playlist</h2>\n            <button onClick = {postImport}>Import</button>\n          </div>\n        :''}\n\n        {suggestReturn.data?'':\n          <h5>{analyReturn.data}</h5>\n        }\n        {analyReturn.loaded && !suggestReturn.loaded?<button onClick = {suggest}>Suggest</button>:''}\n        {suggestReturn.print?\n        <a href=\"https://example.com/faq.html\" rel=\"noreferrer\">\n        FAQ\n      </a>:''}\n      {/* <h5>Suggest Playlist URL: {suggestReturn.data.slice(2,-2)}</h5> */}\n    </div>\n    \n  );\n}\n\nexport default Body;"]},"metadata":{},"sourceType":"module"}