{"ast":null,"code":"var _jsxFileName = \"/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nfunction App() {\n  _s();\n\n  const [playlistURL, setPlaylistURL] = useState({\n    value: '',\n    loaded: false\n  }); //value\n\n  const [playlistURL_coded, setPlaylistURL_coded] = useState('');\n  const [test, setTest] = useState('');\n  const [impReturn, setImpReturn] = useState('');\n  const [analyReturn, setAnalyReturn] = useState('');\n  const [suggestReturn, setSuggestReturn] = useState(''); // const [test,setTest] = useState({\n  //   data: '',\n  //   loading: true\n  // })\n\n  const [name, setName] = useState('');\n\n  const handleClick = async () => {\n    const data = await axios.get('/test');\n    setTest({\n      data: data.data.return,\n      loading: false\n    });\n  };\n\n  const Form = () => {\n    const handleSubmit = e => {\n      e.preventDefault(); // console.log(`Form submitted, ${playlistURL.value}`);    \n\n      setPlaylistURL({\n        loaded: true\n      }); // console.log(encodeURIComponent(playlistURL.value))\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"playlist URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: e => setPlaylistURL({\n            value: e.target.value,\n            loaded: false\n          }),\n          value: playlistURL.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Click to submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), encodeURIComponent(playlistURL.value)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  };\n\n  const importPL = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Import Playlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: postImport,\n        children: \"Import playlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: impReturn.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  };\n\n  const postImport = async () => {\n    // alert(encodeURIComponent(playlistURL.value))\n    const data = await axios.post('/importPlaylist/' + encodeURIComponent(playlistURL.value));\n    setImpReturn({\n      loaded: true,\n      data: data.data.return\n    });\n  };\n\n  const analyze = async () => {\n    if (impReturn.data == \"playlist url invalid\") {\n      alert('invalid');\n    } else {\n      const data = await axios.put('/get_genre/' + encodeURIComponent(playlistURL.value));\n      setAnalyReturn({\n        loaded: true,\n        data: data.data.return\n      });\n    }\n  };\n\n  const suggest = async () => {\n    if (analyReturn.data == 'genres added') {\n      const data = await axios.get('/suggest/' + encodeURIComponent(playlistURL.value));\n      setSuggestReturn({\n        loaded: true,\n        data: data.data.return\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Get Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      children: \"Get Test\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: test.loading ? '' : test.data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), playlistURL.loaded == false ? Form() : /*#__PURE__*/_jsxDEV(\"h2\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 48\n    }, this), playlistURL.loaded == true ? importPL() : /*#__PURE__*/_jsxDEV(\"h2\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 51\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: analyze,\n        children: \"Analyze\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: analyReturn.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: suggest,\n        children: \"Suggest\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: suggestReturn.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"EfVPuPTZJmlBumC9Vz+pgBC2Lzk=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js"],"names":["React","useState","useEffect","axios","defaults","baseURL","headers","post","App","playlistURL","setPlaylistURL","value","loaded","playlistURL_coded","setPlaylistURL_coded","test","setTest","impReturn","setImpReturn","analyReturn","setAnalyReturn","suggestReturn","setSuggestReturn","name","setName","handleClick","data","get","return","loading","Form","handleSubmit","e","preventDefault","target","encodeURIComponent","importPL","postImport","analyze","alert","put","suggest"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {useState,useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\n\n\nfunction App(){\n  const [playlistURL, setPlaylistURL] = useState({\n    value: '',\n    loaded: false})    //value\n  const [playlistURL_coded, setPlaylistURL_coded] = useState('')\n  const [test,setTest] = useState('')\n  const [impReturn, setImpReturn] = useState('')\n  const [analyReturn, setAnalyReturn] = useState('')\n  const [suggestReturn, setSuggestReturn] = useState('')\n  // const [test,setTest] = useState({\n  //   data: '',\n  //   loading: true\n  // })\n  const [name,setName] = useState('')\n\n  const handleClick = async() => {\n    const data = await axios.get('/test')\n    setTest({\n        data: data.data.return,\n        loading: false\n    })\n  }\n\n  const Form = () => {\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      // console.log(`Form submitted, ${playlistURL.value}`);    \n      setPlaylistURL({\n        loaded: true\n      })\n      // console.log(encodeURIComponent(playlistURL.value))\n    }\n\n    return(\n      <div>\n        <h2>playlist URL</h2>\n        <form onSubmit = {handleSubmit}>\n            <input onChange = {(e) => setPlaylistURL({value:e.target.value, loaded: false})} value = {playlistURL.value}></input>\n            <button type = 'submit'>Click to submit</button>\n        </form>\n        {encodeURIComponent(playlistURL.value)}\n      </div>\n    );\n  }\n\n  const importPL = () =>{\n    return(\n      <div>\n        <h2>Import Playlist</h2>\n        <button onClick = {postImport}>Import playlist</button>\n        <h5>{impReturn.data}</h5>\n      </div>\n      \n    )\n  }\n\n  const postImport = async() => {\n    // alert(encodeURIComponent(playlistURL.value))\n    const data = await axios.post('/importPlaylist/' + encodeURIComponent(playlistURL.value))\n    setImpReturn({\n      loaded: true,\n      data: data.data.return,\n    })\n  }\n\n  const analyze = async() =>{\n    if(impReturn.data == \"playlist url invalid\"){\n      alert('invalid')\n    }else{\n      const data = await axios.put('/get_genre/' + encodeURIComponent(playlistURL.value))\n      setAnalyReturn({\n        loaded: true,\n        data: data.data.return,\n      })\n    }\n  }\n\n  const suggest = async() =>{\n    if(analyReturn.data == 'genres added'){\n      const data = await axios.get('/suggest/' + encodeURIComponent(playlistURL.value))\n      setSuggestReturn({\n        loaded: true,\n        data: data.data.return,\n      })\n    }\n  }\n  return (\n    <div className=\"container\">\n        <h2>Get Test</h2>\n        <button onClick = {handleClick}>Get Test</button>\n        <div>\n          {test.loading?'':\n          test.data}\n        </div>\n\n          {playlistURL.loaded == false? Form():<h2></h2>}\n          {playlistURL.loaded == true? importPL():<h2></h2>}\n\n        <div>\n          <button onClick = {analyze}>Analyze</button>\n          <h5>{analyReturn.data}</h5>\n        </div>\n\n        <div>\n          <button onClick = {suggest}>Suggest</button>\n          <h5>{suggestReturn.data}</h5>\n        </div>\n\n    </div>\n    \n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}