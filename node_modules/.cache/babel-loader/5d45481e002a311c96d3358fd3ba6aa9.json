{"ast":null,"code":"var _jsxFileName = \"/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] = 'application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = async () => {\n      const data = await axios.get('/test');\n      setTest({\n        data: data.data.return,\n        loading: false\n      });\n    };\n\n    this.state = {\n      playlistURL: null,\n      playlistURL_coded: null,\n      submitted: null,\n      postId: null,\n      initialGet: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.updateState = this.updateState.bind(this);\n  }\n\n  async componentDidMount() {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      } // body: JSON.stringify({ title: 'React POST Request Example' })\n\n    };\n    const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n    const data = await response.json();\n    this.setState({\n      postId: data.return\n    });\n    alert(this.state.postId);\n  }\n\n  getURL() {\n    return this.state.playlistURL;\n  }\n\n  updateState() {\n    this.setState({\n      data: 'Data updated...'\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      playlistURL: event.target.value,\n      playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n    });\n  }\n\n  handleSubmit(event) {\n    this.setState({\n      submitted: true\n    });\n  }\n\n  renderFunc() {\n    if (this.state.submitted === null) {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Import Playlist:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: this.state.playlistURL,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null) {// this.componentDidMount()\n      // this.setState({initialGet: true})\n      // alert(this.state.postId)\n    }\n  }\n\n  test() {}\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.renderFunc(), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClick,\n        children: \"Get Test\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: test.loading ? '' : test.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/guanchenliu/Dropbox/College/CS4523/Songgest/frontend/src/App.js"],"names":["React","axios","defaults","baseURL","headers","post","App","Component","constructor","props","handleClick","data","get","setTest","return","loading","state","playlistURL","playlistURL_coded","submitted","postId","initialGet","handleChange","bind","handleSubmit","updateState","componentDidMount","requestOptions","method","response","fetch","json","setState","alert","getURL","event","target","value","encodeURIComponent","renderFunc","test","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport axios from 'axios'\n\naxios.defaults.baseURL = 'http://127.0.0.1:8000';\naxios.defaults.headers.post['Content-Type'] ='application/json;charset=utf-8';\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n\nclass App extends React.Component {\n\n  constructor(props) {\n     super(props);\n\n     this.state = {\n        playlistURL: null,\n        playlistURL_coded: null,\n        submitted: null,\n        postId: null,\n        initialGet: null,\n     }\n     this.handleChange = this.handleChange.bind(this);\n     this.handleSubmit = this.handleSubmit.bind(this);\n     this.updateState = this.updateState.bind(this);\n  };\n\n  async componentDidMount() {\n      const requestOptions = {\n          method: 'GET',\n          headers: { 'Content-Type': 'application/json' },\n          // body: JSON.stringify({ title: 'React POST Request Example' })\n      };\n      const response = await fetch('http://127.0.0.1:8000/suggest/' + this.state.playlistURL_coded, requestOptions);\n      const data = await response.json();\n      this.setState({ postId: data.return });\n      alert(this.state.postId)\n  }\n\n\n  getURL(){\n    return this.state.playlistURL\n  }\n\n  updateState() {\n     this.setState({data: 'Data updated...'})\n  }\n\n  handleChange(event) {    \n    this.setState({playlistURL: event.target.value,\n                   playlistURL_coded: encodeURIComponent(this.state.playlistURL)\n                  });  \n  }\n\n  handleSubmit(event) {\n    this.setState({submitted: true})\n  }\n\n  renderFunc(){\n    if(this.state.submitted === null){\n      return (\n        <form onSubmit={this.handleSubmit}>\n          <label>\n            Import Playlist:\n            <input type=\"text\" value={this.state.playlistURL} onChange={this.handleChange} />        \n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n      );\n    }\n    if(this.state.submitted && this.state.playlistURL !== null && this.state.initialGet === null){\n      // this.componentDidMount()\n      // this.setState({initialGet: true})\n      // alert(this.state.postId)\n    }\n  }\n\n  handleClick = async() => {\n    const data = await axios.get('/test')\n    setTest({\n        data: data.data.return,\n        loading: false\n    })\n  }\n\n  test(){\n\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderFunc()}\n\n        <button onClick = {handleClick}>Get Test</button>\n        <div>\n          {test.loading?'':\n          test.data}\n        </div>\n        \n      </div>\n      \n    );\n  }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}